policyengine-core test -c policyengine_canada policyengine_canada/tests
============================= test session starts ==============================
platform darwin -- Python 3.8.5, pytest-5.4.3, py-1.9.0, pluggy-0.13.1
rootdir: /Users/alex/Desktop/Python Projects/policyengine-canada
plugins: anyio-3.6.2
collected 253 items

policyengine_canada/tests/gov/cra/benefits/ccb/child_benefit.yaml ...
policyengine_canada/tests/gov/cra/benefits/cdb/child_disability_benefit.yaml ...
policyengine_canada/tests/gov/cra/benefits/cdb/child_disability_benefit_eligible.yaml ....
policyengine_canada/tests/gov/cra/benefits/cdb/child_disability_benefit_reduction.yaml .....
policyengine_canada/tests/gov/cra/benefits/cdb/integration.yaml ....
policyengine_canada/tests/gov/cra/benefits/cwb/canada_workers_benefit.yaml ....
policyengine_canada/tests/gov/cra/benefits/cwb/cwb_dependant.yaml ..
policyengine_canada/tests/gov/cra/benefits/cwb/cwb_eligible.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/is_cwb_family.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/base/cwb_base.yaml .....
policyengine_canada/tests/gov/cra/benefits/cwb/base/cwb_base_max_amount.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/base/cwb_base_phase_in.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/base/cwb_base_phase_out.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_category.yaml ....
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_supplement.yaml ....
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_supplement_eligible.yaml ....
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_supplement_max_amount.yaml ...
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_supplement_phase_in.yaml ..
policyengine_canada/tests/gov/cra/benefits/cwb/disability_supplement/cwb_disability_supplement_phase_out.yaml .....
policyengine_canada/tests/gov/cra/benefits/dental_benefit/dental_benefit.yaml .....
policyengine_canada/tests/gov/cra/benefits/dental_benefit/dental_benefit_eligible.yaml ....
policyengine_canada/tests/gov/cra/benefits/oas/integration.yaml F
policyengine_canada/tests/gov/cra/benefits/oas/oas_eligibility.yaml ...
policyengine_canada/tests/gov/cra/benefits/oas/oas_net.yaml .
policyengine_canada/tests/gov/cra/benefits/oas/oas_pre_repayment.yaml ..
policyengine_canada/tests/gov/cra/benefits/oas/oas_repayment.yaml ...
policyengine_canada/tests/gov/cra/tax/income/income_tax_before_credits.yaml .
policyengine_canada/tests/gov/cra/tax/income/credits/age_amount_credit.yaml ....
policyengine_canada/tests/gov/cra/tax/income/credits/training_credit.yaml .....
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/climate_action_incentive.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/climate_action_incentive_dependent_children.yaml .
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/climate_action_incentive_person.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/climate_action_incentive_single_parent_household.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/integration.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/integration_eldest_child.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/is_child_for_climate_action_incentive.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/climate_action/is_eldest_child_for_climate_action_incentive.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/dtc/dtc_base.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/dtc/dtc_child_supplement.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit_category.yaml ....
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit_person.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit_reduction.yaml ..
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit_single_parent_household.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/gst_credit_singles_boost.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/integration.yaml .....
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/is_child_for_gst_credit.yaml ...
policyengine_canada/tests/gov/cra/tax/income/credits/gst_credit/is_eldest_child_in_single_household_for_gst_credit.yaml .
policyengine_canada/tests/gov/cra/tax/income/credits/school_supply_credit/school_supply_credit.yaml ..
policyengine_canada/tests/gov/provinces/ab/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/bc/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/mb/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/nb/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/nl/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/ns/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/nt/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/nu/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/on/benefits/ocb/on_child_benefit.yaml ..
policyengine_canada/tests/gov/provinces/on/benefits/ocb/on_child_benefit_base.yaml ....
policyengine_canada/tests/gov/provinces/on/benefits/ocb/on_child_benefit_reduction.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/grants/oshptg/on_senior_homeowners_property_tax_grant.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/grants/oshptg/on_senior_homeowners_property_tax_grant_base.yaml .....
policyengine_canada/tests/gov/provinces/on/tax/grants/oshptg/on_senior_homeowners_property_tax_grant_reduction.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/integration.yaml .
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/is_senior_for_oeptc.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/oeptc.yaml .....
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/oeptc_energy_component.yaml .....
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/oeptc_occupancy_costs.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/oeptc_property_tax_component.yaml ....
policyengine_canada/tests/gov/provinces/on/tax/income/credits/oeptc/oshptg_adjusted_opetc.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/income/credits/ostc/on_sales_tax_credit.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/income/credits/ostc/on_sales_tax_credit_base.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/income/credits/ostc/on_sales_tax_credit_reduction.yaml ....
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/is_child_for_on_child_care_fee_subsidy.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/is_child_for_on_child_care_fee_subsidy_reduction.yaml ..
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy.yaml ....
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy_full_time.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy_part_time.yaml ...
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy_reduction.yaml ....
policyengine_canada/tests/gov/provinces/pe/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/sk/tax/income/income_tax.yaml ...
policyengine_canada/tests/gov/provinces/yt/tax/income/income_tax.yaml ...
policyengine_canada/tests/household/person/person_index.yaml ..

=================================== FAILURES ===================================
_________________________________ test session _________________________________
/Users/alex/Desktop/Python Projects/policyengine-canada/policyengine_canada/tests/gov/cra/benefits/oas/integration.yaml:
  Test '66 year-old with 47 years of residence (all of their adult years)':
    You tried to calculate or to set a value for variable 'old_eligibility', but it was not found in the loaded tax and benefit system (policyengine-canada@0.21.1).
    Are you sure you spelled 'old_eligibility' correctly?
    If this code used to work and suddenly does not, this is most probably linked to an update of the tax and benefit system.
    Look at its changelog to learn about renames and removals and update your code. If it is an official package,
    it is probably available on <https://github.com/openfisca/policyengine-canada/blob/master/CHANGELOG.md>.
=============================== warnings summary ===============================
policyengine_canada/tests/gov/provinces/on/tax/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy_reduction.yaml::
  /Users/alex/Desktop/Python Projects/policyengine-canada/policyengine_canada/variables/gov/provinces/on/subsidies/on_child_care_fee_subsidy/on_child_care_fee_subsidy_reduction.py:21: RuntimeWarning: invalid value encountered in true_divide
    children > 0, eligible_children * reduction_factor / children, 0

-- Docs: https://docs.pytest.org/en/latest/warnings.html
=========================== short test summary info ============================
FAILED policyengine_canada/tests/gov/cra/benefits/oas/integration.yaml::
=================== 1 failed, 252 passed, 1 warning in 1.21s ===================
make: *** [test] Error 1
